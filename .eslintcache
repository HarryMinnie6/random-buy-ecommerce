[{"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\index.js":"1","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\App.js":"2","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\reducer.js":"3","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\StateProvider.js":"4","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Header\\Header.js":"5","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\Checkout.js":"6","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\CheckoutProduct.js":"7","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\Subtotal.js":"8","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Home\\Home.js":"9","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\product\\Product.js":"10","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Login\\Login.js":"11","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\firebase.js":"12","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Payment\\Payment.js":"13","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\axios.js":"14","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Orders\\Orders.js":"15"},{"size":485,"mtime":1607773474931,"results":"16","hashOfConfig":"17"},{"size":1957,"mtime":1608635640105,"results":"18","hashOfConfig":"17"},{"size":1283,"mtime":1608634992346,"results":"19","hashOfConfig":"17"},{"size":693,"mtime":1607773454870,"results":"20","hashOfConfig":"17"},{"size":1685,"mtime":1608289632242,"results":"21","hashOfConfig":"17"},{"size":1684,"mtime":1608289632263,"results":"22","hashOfConfig":"17"},{"size":953,"mtime":1607934486656,"results":"23","hashOfConfig":"17"},{"size":962,"mtime":1608630723617,"results":"24","hashOfConfig":"17"},{"size":8031,"mtime":1608642681703,"results":"25","hashOfConfig":"17"},{"size":1004,"mtime":1608645651665,"results":"26","hashOfConfig":"17"},{"size":2024,"mtime":1608117600910,"results":"27","hashOfConfig":"17"},{"size":620,"mtime":1608640086631,"results":"28","hashOfConfig":"17"},{"size":4930,"mtime":1608644494754,"results":"29","hashOfConfig":"17"},{"size":287,"mtime":1608647861442,"results":"30","hashOfConfig":"17"},{"size":588,"mtime":1608646051865,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1gy2txl",{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\index.js",[],["68","69"],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\App.js",["70","71","72","73"],"import React, { useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./Header/Header\";\r\nimport Home from \"./Home/Home\";\r\nimport Checkout from \"./checkout/Checkout\";\r\nimport Orders from \"./Orders/Orders\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Login from \"./Login/Login\";\r\nimport { auth } from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Payment from \"./Payment/Payment\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\n\r\nconst promise = loadStripe(\r\n  \"pk_test_51HzgknDGOy5si9f7qvcWpHNgXGQmscbyNJp6Ha7utFLmSubyE1A8J3V2gTlQAp6jNDUxkDr948oTX7sm74kAMFNL00JWOFySvR\"\r\n);\r\n\r\nfunction App() {\r\n  const [{}, dispatch] = useStateValue();\r\n\r\n  // useEffect() will only run once when the app component loads\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      console.log(\"user is --->\", authUser);\r\n      if (authUser) {\r\n        // the user just logged in / the user was logged in\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: authUser,\r\n        });\r\n      } else {\r\n        // the user is logged out\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: null,\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path='/checkout'>\r\n          <Header />\r\n          <Checkout />\r\n        </Route>\r\n\r\n        <Route path='/orders'>\r\n          <Header />\r\n          <Orders />\r\n        </Route>\r\n        <Route path='/login'>\r\n          <Header />\r\n          <Login />\r\n        </Route>\r\n        <Route path='/payment'>\r\n          <Header />\r\n          <Elements stripe={promise}>\r\n            <Payment />\r\n          </Elements>\r\n        </Route>\r\n\r\n        <Route path='/'>\r\n          <Header />\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\reducer.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\StateProvider.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Header\\Header.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\Checkout.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\CheckoutProduct.js",["74","75","76"],"import React from \"react\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport \"./Checkout.css\";\r\nimport { useStateValue } from \"../StateProvider\";\r\n\r\nfunction CheckoutProduct({ id, title, price, rating, image }) {\r\n  const [{ cart }, dispatch] = useStateValue();\r\n\r\n  const removeFromCart = () => {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_CART\",\r\n      id: id,\r\n    });\r\n  };\r\n  return (\r\n    // <div className='cart__wrapper'>\r\n    <div className='cart__contents'>\r\n      <div className='cart__item'>\r\n        <div className='product__image-holder'>{image}</div>\r\n        <div className='cart-description'>\r\n          <h3>{title}</h3>\r\n          <p>${price}</p>\r\n          <button className='remove-button' onClick={removeFromCart}>\r\n            Remove Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    // </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\checkout\\Subtotal.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Home\\Home.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\product\\Product.js",["77","78"],"import React from \"react\";\r\nimport \"./Product.css\";\r\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\r\nimport { useStateValue, StateContext } from \"../StateProvider\";\r\n\r\nfunction Product({ id, title, price, rating, image, discount }) {\r\n  const [{ cart}, dispatch] = useStateValue();\r\n  //this function will run when the 'add to cart' button is clicked\r\n  const addToCart = () => {\r\n    dispatch({\r\n      type: \"ADD_TO_CART\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        price: price,\r\n        image: image,\r\n        rating: rating,\r\n        discount: discount\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__image-holder\">{image}</div>\r\n      <div className=\"product__title\">{title}</div>\r\n      <div className=\"product__price\">${price}</div>\r\n      <button className=\"product__addToCartBtn\" onClick={addToCart}>\r\n        <AddShoppingCartIcon />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Login\\Login.js",["79"],"import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport logo from \"../images/logo-buy.png\";\r\nimport { auth } from \"../firebase\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const SignIn = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(auth);\r\n        //if the user is registered push us to the home page\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  const Register = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(auth);\r\n        //if the user is registered push us to the home page\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  return (\r\n    <div className='login'>\r\n      <Link to='/'>\r\n        <img className='login__logo' src={logo} />\r\n      </Link>\r\n      <div className='login__container'>\r\n        <h1>Sign in</h1>\r\n        <form>\r\n          <h5>Email</h5>\r\n          <input\r\n            type='text'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <h5>Password</h5>\r\n          <input\r\n            type='password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button onClick={SignIn} className='login__SignInButton'>\r\n            {\" \"}\r\n            Sign In{\" \"}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type='submit'\r\n          onClick={Register}\r\n          className='login__registerButton'\r\n        >\r\n          Create your Random Buy Account\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\firebase.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Payment\\Payment.js",["80","81","82"],"import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CheckoutProduct from \"../checkout/CheckoutProduct\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getCartTotal } from \"../reducer\";\r\nimport axios from \"../axios\";\r\nimport { db } from \"../firebase\";\r\nimport \"./Payment.css\";\r\n\r\nfunction Payment() {\r\n  const [{ cart, user }] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const [succeeded, setSucceedd] = useState(false);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n\r\n  //----- when ever the cart changes it will make this request and make the stripe request to get the clientSecret 'token' which allows us to charge the customer the correct amount.\r\n  useEffect(() => {\r\n    //generate special stripe secret token, which allows us to charge a customer\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n        //stripe expects the total in a currencies subunits\r\n        url: `/payment/create?total=${getCartTotal(cart) * 100}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n    getClientSecret();\r\n  }, [cart]);\r\n\r\n  console.log(\"the secret is\", clientSecret);\r\n\r\n  //-----\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    //all the stripe stuff\r\n    setProcessing(true);\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        //paymentIntent = payment confirmation\r\n\r\n        // db.collection(\"users\")\r\n        //   .doc(user?.uid)\r\n        //   .collection(\"orders\")\r\n        //   .doc(paymentIntent.id)\r\n        //   .set({\r\n        //     cart: cart,\r\n        //     amount: paymentIntent.amount,\r\n        //     created: paymentIntent.created\r\n        //   }); \r\n\r\n        setSucceedd(true);\r\n        setError(false);\r\n        setProcessing(false);\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        history.replace(\"/orders\");\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    //listen for changes in the card elements and listen for errors in card details\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n  const [{}, dispatch] = useStateValue();\r\n  return (\r\n    <div className='payment'>\r\n      <div className='payment__container'>\r\n        <h1>\r\n          Checkout (<Link to='/checkout'> {cart?.length} items </Link>)\r\n        </h1>\r\n        <div className='payment__section'>\r\n          <div className='payment__title'>\r\n            <h3>Delivery Address</h3>\r\n          </div>\r\n          <div className='payment__address'>\r\n            <p>{user?.email}</p>\r\n            <p>111 React lane</p>\r\n            <p>Cape Town</p>\r\n          </div>\r\n        </div>\r\n        <div className='payment__section'>\r\n          <div className='payment__title'>\r\n            <h3>Review Items and Delivery</h3>\r\n          </div>\r\n          <div className='payment__items'>\r\n            {cart.map((item) => (\r\n              <CheckoutProduct\r\n                id={item.id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className='payment__section'>\r\n          <h3>Payment Method</h3>\r\n          <div className='payment__details'>\r\n            <div className='cardElement__holder'>\r\n              <form onSubmit={handleSubmit}>\r\n                <CardElement onChange={handleChange} />\r\n                <div className='payment__priceContainer'>\r\n                  <CurrencyFormat\r\n                    renderText={(value) => (\r\n                      <>\r\n                        <h3>Order Total: {value}</h3>\r\n                      </>\r\n                    )}\r\n                    decimalScale={2}\r\n                    value={getCartTotal(cart)}\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={true}\r\n                    prefix={\"$\"}\r\n                  />\r\n                  <button disabled={processing || disabled || succeeded}>\r\n                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                  </button>\r\n                </div>\r\n                {error && <div>{error}</div>}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\axios.js",[],"C:\\Users\\Harry\\Documents\\a-VS-Code-projects\\REACT projects\\random-buy\\src\\Orders\\Orders.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":13,"column":20,"nodeType":"89","messageId":"90","endLine":13,"endColumn":31},{"ruleId":"87","severity":1,"message":"91","line":13,"column":33,"nodeType":"89","messageId":"90","endLine":13,"endColumn":42},{"ruleId":"92","severity":1,"message":"93","line":20,"column":10,"nodeType":"94","messageId":"95","endLine":20,"endColumn":12},{"ruleId":"96","severity":1,"message":"97","line":40,"column":6,"nodeType":"98","endLine":40,"endColumn":8,"suggestions":"99"},{"ruleId":"87","severity":1,"message":"100","line":2,"column":8,"nodeType":"89","messageId":"90","endLine":2,"endColumn":18},{"ruleId":"87","severity":1,"message":"101","line":3,"column":8,"nodeType":"89","messageId":"90","endLine":3,"endColumn":20},{"ruleId":"87","severity":1,"message":"102","line":8,"column":12,"nodeType":"89","messageId":"90","endLine":8,"endColumn":16},{"ruleId":"87","severity":1,"message":"103","line":4,"column":25,"nodeType":"89","messageId":"90","endLine":4,"endColumn":37},{"ruleId":"87","severity":1,"message":"102","line":7,"column":12,"nodeType":"89","messageId":"90","endLine":7,"endColumn":16},{"ruleId":"104","severity":1,"message":"105","line":41,"column":9,"nodeType":"106","endLine":41,"endColumn":51},{"ruleId":"87","severity":1,"message":"107","line":9,"column":10,"nodeType":"89","messageId":"90","endLine":9,"endColumn":12},{"ruleId":"87","severity":1,"message":"108","line":46,"column":11,"nodeType":"89","messageId":"90","endLine":46,"endColumn":18},{"ruleId":"92","severity":1,"message":"93","line":81,"column":10,"nodeType":"94","messageId":"95","endLine":81,"endColumn":12},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],"no-unused-vars","'useElements' is defined but never used.","Identifier","unusedVar","'useStripe' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["111"],"'DeleteIcon' is defined but never used.","'FavoriteIcon' is defined but never used.","'cart' is assigned a value but never used.","'StateContext' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'db' is defined but never used.","'payload' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},"Update the dependencies array to be: [dispatch]",{"range":"114","text":"115"},[1309,1311],"[dispatch]"]